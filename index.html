  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&amp;family=Righteous&amp;family=Concert+One&amp;family=Bangers&amp;display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #8B4513;
      --secondary: #DEB887;
      --cat-primary: #4B0082;
      --cat-secondary: #E6E6FA;
      --turtle-primary: #2F4F4F;
      --turtle-secondary: #8FBC8F;
    }

    body {
      font-family: 'Concert One', cursive;
      margin: 0;
      padding: 20px;
      background: #FDF5E6;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .dog-container {
      position: relative;
      width: 300px;
      height: 300px;
      margin: 20px;
    }

    .speech-bubble {
      position: absolute;
      top: -60px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      border-radius: 20px;
      padding: 10px 15px;
      font-size: 14px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      display: none;
      z-index: 2;
      min-width: 120px;
      text-align: center;
      animation: pop-in 0.3s ease-out;
      font-family: 'Fredoka One', cursive;
    }

    @keyframes pop-in {
      0% { transform: translateX(-50%) scale(0); }
      70% { transform: translateX(-50%) scale(1.1); }
      100% { transform: translateX(-50%) scale(1); }
    }

    .speech-bubble:after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      border-width: 10px 10px 0;
      border-style: solid;
      border-color: white transparent transparent;
    }

    .stats {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
    }

    .stat {
      background: var(--secondary);
      padding: 10px;
      border-radius: 10px;
      animation: slide-in 0.5s ease-out;
      font-family: 'Righteous', cursive;
    }

    .stats .health-stat {
      background: #ff4444;
      color: white;
    }

    .stats .sleepiness-stat {
      background: #9b59b6; /* Purple color for sleepiness */
      color: white;
    }

    .stats .good-mood-stat {
      background: #2ecc71; /* Green color for good mood */
      color: white;
    }

    .stats .bad-mood-stat {
      background: #e74c3c; /* Red color for bad mood */
      color: white;
    }

    @keyframes slide-in {
      from { transform: translateY(-20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .controls {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin-top: 20px;
    }

    .food-menu {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 20px;
      width: 100%;
      max-width: 600px;
    }

    .food-btn {
      padding: 10px;
      font-size: 0.9em;
      background: var(--secondary);
      color: black;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Fredoka One', cursive;
    }

    .food-btn:hover {
      transform: scale(1.05) rotate(2deg);
      background: var(--primary);
      color: white;
    }

    button {
      padding: 15px;
      font-size: 1.1em;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Fredoka One', cursive;
    }

    button:hover {
      transform: scale(1.05) rotate(-2deg);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    .dog-img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      position: relative;
      z-index: 1;
      transition: transform 0.3s ease;
    }

    .dog-img:hover {
      transform: scale(1.05);
    }

    @keyframes tail-wag {
      0% { transform: rotate(-10deg); }
      50% { transform: rotate(10deg); }
      100% { transform: rotate(-10deg); }
    }

    @keyframes walk {
      0% { transform: translateX(-50px); }
      50% { transform: translateX(50px); }
      100% { transform: translateX(-50px); }
    }

    @keyframes happy-bounce {
      0% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0); }
    }

    .walking .dog-container {
      animation: walk 2s infinite;
    }

    .happy .dog-img {
      animation: happy-bounce 0.5s infinite;
    }

    .turtle-mode .dog-container {
      display: flex;
      flex-direction: column-reverse;
    }

    .turtle-mode .dog-img {
      position: relative;
      top: 30px; /* Move turtle up onto beanbag */
      z-index: 2; /* Ensure turtle appears above beanbag */
      transform-origin: center bottom;
    }

    .turtle-mode .bean-bag {
      margin-top: -60px; /* Pull beanbag up under turtle */
    }

    .turtle-mode .happy .dog-img {
      animation: turtle-bounce 1s infinite;
    }

    @keyframes turtle-bounce {
      0% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-5px) rotate(2deg); }
      100% { transform: translateY(0) rotate(0deg); }
    }

    .message {
      position: fixed;
      top: 20px;
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      display: none;
      animation: fade-in 0.3s ease-out;
      font-family: 'Bangers', cursive;
    }

    @keyframes fade-in {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .bean-bag {
      position: absolute;
      bottom: -30px;
      left: 50%;
      transform: translateX(-50%);
      width: 350px;
      height: 175px;
      background-image: url('Picsart_25-01-02_19-28-22-024.png');
      background-size: cover;
      background-position: center;
      border-radius: 50%;
      z-index: 0;
      transition: transform 0.3s ease;
    }

    .bean-bag:hover {
      transform: translateX(-50%) scale(1.02);
    }

    /* Animation for stats changes */
    .stat-change {
      animation: pulse 0.5s ease-out;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    .pet-container.cat-mode {
      --primary: var(--cat-primary);
      --secondary: var(--cat-secondary);
    }

    .pet-container.turtle-mode {
      --primary: var(--turtle-primary);
      --secondary: var(--turtle-secondary);
    }

    .turtle-mode .bean-bag {
      filter: hue-rotate(90deg); 
    }

    .switch-pet-btn {
      position: absolute; 
      bottom: -80px; 
      left: 50%; 
      transform: translateX(-50%); 
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      padding: 15px 25px;
      border-radius: 25px;
      color: white;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      z-index: 3; 
    }

    .switch-pet-btn:hover {
      transform: translateX(-50%) translateY(-2px); 
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }

    .cat-mode .bean-bag {
      filter: hue-rotate(45deg);
    }

    .vote-text {
      text-align: center;
      margin-top: 40px;
      font-size: 1.1em;
      font-family: 'Fredoka One', cursive;
    }

    .vote-text a {
      color: var(--primary);
      text-decoration: none;
      font-weight: bold;
      transition: all 0.2s ease;
    }

    .vote-text a:hover {
      opacity: 0.8;
      text-decoration: underline;
    }

    .menu-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      animation: menuFadeIn 0.5s ease-out;
    }

    @keyframes menuFadeIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .menu-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      padding: 40px;
      background: white;
      border-radius: 15px;
      box-shadow: 0 5px 25px rgba(0,0,0,0.3);
      animation: containerFloat 4s ease-in-out infinite;
      transform-origin: center;
    }

    @keyframes containerFloat {
      0% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
      100% { transform: translateY(0); }
    }

    .menu-container h1 {
      color: black; 
      text-align: center;
      font-size: 2.5em;
      margin-bottom: 30px;
      font-family: 'Pacifico', cursive; 
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2); 
      animation: titleFloat 3s ease-in-out infinite;
    }

    @keyframes titleFloat {
      0% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0); }
    }

    .menu-btn {
      padding: 20px 40px;
      font-size: 1.5em;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.3s ease;
      color: white;
      text-transform: uppercase;
      letter-spacing: 2px;
      width: 200px;
      position: relative;
      animation: buttonPulse 2s infinite;
      animation-play-state: paused;
      font-family: 'Bangers', cursive;
    }

    @keyframes buttonPulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .menu-btn:hover {
      animation-play-state: running;
    }

    .play-btn {
      background: #2ecc71;
      animation-delay: 0s;
    }

    .settings-btn {
      background: #3498db;
      animation-delay: 0.2s;
    }

    .quit-btn {
      background: #e74c3c;
      animation-delay: 0.4s;
    }

    .game-container {
      display: none;
    }

    .settings-panel {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 30px;
      border-radius: 15px;
      z-index: 1000;
      display: none;
    }

    .settings-panel h2 {
      margin-top: 0;
      color: #333;
      font-family: 'Righteous', cursive;
    }

    .settings-group {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .toggle-control {
      display: flex;
      align-items: center;
      gap: 10px;
      font-family: 'Concert One', cursive;
    }

    .toggle-control input[type="checkbox"] {
      width: 18px;
      height: 18px;
    }

    .volume-control {
      margin: 20px 0;
      font-family: 'Concert One', cursive;
    }

    .close-settings {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: #333;
    }

    .back-menu-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #e74c3c;
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 100;
    }

    .back-menu-btn:hover {
      transform: scale(1.05);
      background: #c0392b;
    }
    
    .save-btn {
      background: #27ae60;
      color: white;
      padding: 15px;
      border-radius: 5px;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .save-btn:hover {
      transform: scale(1.05);
      background: #219a52;
    }

    .game-over {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 2000;
      animation: fadeIn 0.5s ease-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    .game-over-content {
      background: white;
      padding: 40px;
      border-radius: 15px;
      text-align: center;
      font-family: 'Bangers', cursive;
    }

    .game-over h2 {
      color: #e74c3c;
      font-size: 3em;
      margin-bottom: 20px;
    }

    .retry-btn {
      background: #2ecc71;
      padding: 15px 30px;
      font-size: 1.2em;
      margin-top: 20px;
    }

    @media (max-width: 768px) {
      body {
        padding: 10px;
      }

      .dog-container {
        width: 250px;
        height: 250px;
      }

      .bean-bag {
        width: 280px;
        height: 140px;
      }

      .stats {
        flex-direction: column;
        gap: 10px;
      }

      .controls {
        grid-template-columns: 1fr;
      }

      .food-menu {
        grid-template-columns: repeat(2, 1fr);
      }

      .menu-container {
        width: 90%;
        max-width: 350px;
        padding: 20px;
      }

      .menu-container h1 {
        font-size: 2em;
      }

      .menu-btn {
        width: 100%;
        padding: 15px 30px;
        font-size: 1.2em;
      }

      .settings-panel {
        width: 90%;
        max-width: 350px;  
      }

      .speech-bubble {
        width: 80%;
        font-size: 12px;
      }

      .back-menu-btn {
        top: 10px;
        right: 10px;
        padding: 8px 16px;
        font-size: 0.9em;
      }

      .game-over-content {
        width: 90%;
        max-width: 350px;
        padding: 20px;
      }

      .game-over h2 {
        font-size: 2em;
      }
    }

    @media (max-width: 480px) {
      .dog-container {
        width: 200px; 
        height: 200px;
      }

      .bean-bag {
        width: 220px;
        height: 110px;
      }
      
      .menu-container h1 {
        font-size: 1.8em;
      }

      .stats {
        font-size: 0.9em;
      }

      button {
        font-size: 1em;
      }

      .food-btn {
        font-size: 0.8em;
      }
    }

    .clock {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 10px 15px;
      border-radius: 10px;
      font-family: 'Concert One', cursive;
      font-size: 1.2em;
      z-index: 100;
    }

    @media (max-width: 768px) {
      .clock {
        font-size: 1em;
        padding: 8px 12px;
        bottom: 10px;
        right: 10px;
      }
    }
  </style>

  <audio id="clickSound" src="click.wav"></audio>
  <audio id="barkSound" src="Bark.mp3"></audio>
  <audio id="meowSound" src="Cat Meow - Minecraft Sound Effect (HD).mp3"></audio>
  <audio id="backgroundMusic" src="retro-8bit-happy-videogame-music-243998.mp3" loop></audio>
  <audio id="switchSound" src="tada.mp3"></audio>
  <audio id="menuMusic" src="1-02 Main Menu.mp3" loop></audio>
  <audio id="gameOverSound" src="Game Over.mp3"></audio>

  <div class="menu-overlay" id="mainMenu">
    <div class="menu-container">
      <h1>Doggy Clicker</h1>
      <button class="menu-btn play-btn" onclick="startGame()">Play</button>
      <button class="menu-btn settings-btn" onclick="showSettings()">Settings</button>
      <button class="menu-btn quit-btn" onclick="quitGame()">Quit</button>
    </div>
  </div>

  <div class="settings-panel" id="settingsPanel">
    <button class="close-settings" onclick="hideSettings()">&#xd7;</button>
    <h2>Settings</h2>
    
    <div class="settings-group">
      <div class="volume-control">
        <label for="volume">Music Volume:</label>
        <input type="range" id="volume" min="0" max="100" value="30">
      </div>

      <div class="volume-control">
        <label for="sfxVolume">Sound Effects Volume:</label>
        <input type="range" id="sfxVolume" min="0" max="100" value="50">
      </div>

      <div class="toggle-control">
        <label>
          <input type="checkbox" id="musicEnabled" checked>
          Enable Music
        </label>
      </div>

      <div class="toggle-control">
        <label>
          <input type="checkbox" id="sfxEnabled" checked>
          Enable Sound Effects
        </label>
      </div>

      <div class="toggle-control">
        <label>
          <input type="checkbox" id="mobileSupport" checked>
          Enable Mobile Support
        </label>
      </div>
    </div>
  </div>

  <div class="game-container" id="gameContent">
    <button class="switch-pet-btn" onclick="switchPet()">Switch to Cat</button>

    <div class="stats">
      <div class="stat">Happiness: <span id="happiness">50</span>%</div>
      <div class="stat">Energy: <span id="energy">100</span>%</div> 
      <div class="stat">Hunger: <span id="hunger">0</span>%</div>
      <div class="stat health-stat">Health: <span id="health">100</span>%</div>
      <div class="stat sleepiness-stat">Sleepiness: <span id="sleepiness">0</span>%</div>
      <div class="stat good-mood-stat">Good Mood: <span id="goodMood">50</span>%</div>
      <div class="stat bad-mood-stat">Bad Mood: <span id="badMood">0</span>%</div>
    </div>

    <div class="dog-container">
      <div class="speech-bubble" id="speechBubble"></div>
      <div class="bean-bag"></div>
      <img src="Picsart_25-01-02_19-26-37-140.png" class="dog-img" alt="Beagle dog">
    </div>

    <div class="controls">
      <button onclick="petPet()">Pet</button>
      <button onclick="playWithPet()">Play</button>
      <button onclick="walkPet()">Take for Walk</button>
      <button onclick="makeSound()" id="soundButton">Bark!</button>
      <button onclick="letSleep()">Let Sleep</button>
      <button onclick="kissPet()">Kiss</button>
      <button onclick="saveProgress()" class="save-btn">Save Progress</button>
    </div>

    <div class="food-menu">
      <button class="food-btn" onclick="feedDog(&apos;treats&apos;)" id="treatsButton">Dog Treats</button>
      <button class="food-btn" onclick="feedDog(&apos;vitamins&apos;)">Vitamins</button>
      <button class="food-btn" onclick="feedDog(&apos;lettuce&apos;)">Lettuce</button>
      <button class="food-btn" onclick="feedDog(&apos;carrots&apos;)">Carrots</button>
      <button class="food-btn" onclick="feedDog(&apos;dandelions&apos;)">Dandelions</button>
      <button class="food-btn" onclick="feedDog(&apos;corn&apos;)">Fresh Corn</button>
      <button class="food-btn" onclick="feedDog(&apos;blueberries&apos;)">Blueberries</button>
    </div>

    <div class="message" id="message"></div>

    <div class="vote-text">
      If you wanna vote for another pet update then 
      <a href="https://websim.ai/p/d4iamc_kinsjhqmbpuwo">click here</a>
    </div>
    <button class="back-menu-btn" onclick="backToMenu()">Back to Menu</button>
    <div class="clock" id="clock"></div>
  </div>

  <div class="game-over" id="gameOver">
    <div class="game-over-content">
      <h2>Game Over!</h2>
      <p>Your pet&apos;s health dropped to 0%</p>
      <button class="retry-btn" onclick="restartGame()">Try Again</button>
    </div>
  </div>

  <script>let state = {
  happiness: 50,
  energy: 100,
  hunger: 0,
  health: 100,
  sleepiness: 0,
  goodMood: 50,
  badMood: 0,
  isWalking: false,
  isCatMode: false,
  isTurtleMode: false
};
const clickSound = document.getElementById('clickSound');
const barkSound = document.getElementById('barkSound');
const meowSound = document.getElementById('meowSound');
const backgroundMusic = document.getElementById('backgroundMusic');
const menuMusic = document.getElementById('menuMusic');
const gameOverSound = document.getElementById('gameOverSound');
const speechBubble = document.getElementById('speechBubble');
const dogImg = document.querySelector('.dog-img');
const switchSound = document.getElementById('switchSound');
const settings = {
  musicVolume: 30,
  sfxVolume: 50,
  musicEnabled: true,
  sfxEnabled: true,
  mobileSupport: true
};
backgroundMusic.volume = settings.musicVolume / 100;
menuMusic.volume = settings.musicVolume / 100;
clickSound.volume = settings.sfxVolume / 100;
barkSound.volume = settings.sfxVolume / 100;
meowSound.volume = settings.sfxVolume / 100;
switchSound.volume = settings.sfxVolume / 100;
gameOverSound.volume = settings.sfxVolume / 100;
backgroundMusic.addEventListener('ended', function () {
  backgroundMusic.play();
});
document.addEventListener('visibilitychange', function () {
  if (document.hidden) {
    if (settings.musicEnabled) {
      backgroundMusic.pause();
      menuMusic.pause();
    }
  } else {
    if (settings.musicEnabled) {
      if (document.getElementById('mainMenu').style.display !== 'none') {
        menuMusic.play();
      } else if (document.getElementById('gameOver').style.display !== 'flex') {
        backgroundMusic.play();
      }
    }
  }
});
document.getElementById('volume').addEventListener('change', function (e) {
  settings.musicVolume = e.target.value;
  if (settings.musicEnabled) {
    backgroundMusic.volume = settings.musicVolume / 100;
    menuMusic.volume = settings.musicVolume / 100;
  }
  saveSettings();
});
document.getElementById('sfxVolume').addEventListener('change', function (e) {
  settings.sfxVolume = e.target.value;
  if (settings.sfxEnabled) {
    clickSound.volume = settings.sfxVolume / 100;
    barkSound.volume = settings.sfxVolume / 100;
    meowSound.volume = settings.sfxVolume / 100;
    switchSound.volume = settings.sfxVolume / 100;
    gameOverSound.volume = settings.sfxVolume / 100;
  }
  saveSettings();
});
document.getElementById('musicEnabled').addEventListener('change', function (e) {
  settings.musicEnabled = e.target.checked;
  if (settings.musicEnabled) {
    backgroundMusic.volume = settings.musicVolume / 100;
    menuMusic.volume = settings.musicVolume / 100;
    if (document.getElementById('mainMenu').style.display !== 'none') {
      menuMusic.currentTime = 0;
      menuMusic.play();
    } else if (document.getElementById('gameOver').style.display !== 'flex') {
      backgroundMusic.currentTime = 0;
      backgroundMusic.play();
    }
  } else {
    backgroundMusic.pause();
    menuMusic.pause();
  }
  saveSettings();
});
document.getElementById('sfxEnabled').addEventListener('change', function (e) {
  settings.sfxEnabled = e.target.checked;
  if (settings.sfxEnabled) {
    clickSound.volume = settings.sfxVolume / 100;
    barkSound.volume = settings.sfxVolume / 100;
    meowSound.volume = settings.sfxVolume / 100;
    switchSound.volume = settings.sfxVolume / 100;
    gameOverSound.volume = settings.sfxVolume / 100;
  } else {
    clickSound.volume = 0;
    barkSound.volume = 0;
    meowSound.volume = 0;
    switchSound.volume = 0;
    gameOverSound.volume = 0;
  }
  saveSettings();
});
document.getElementById('mobileSupport').addEventListener('change', function (e) {
  settings.mobileSupport = e.target.checked;
  if (!settings.mobileSupport) {
    document.querySelector('.dog-img').removeEventListener('touchstart', petPet);
    document.removeEventListener('touchstart', handleTouchStart);
  } else {
    document.querySelector('.dog-img').addEventListener('touchstart', function (e) {
      e.preventDefault();
      petPet();
    });
    document.addEventListener('touchstart', handleTouchStart, {
      passive: false
    });
  }
  saveSettings();
});
function handleTouchStart(e) {
  if (e.touches.length > 1) {
    e.preventDefault();
  }
}
document.getElementById('gameContent').style.display = 'none';
function playClick() {
  if (settings.sfxEnabled) {
    clickSound.currentTime = 0;
    clickSound.play();
  }
}
function makeSound() {
  if (state.isCatMode) {
    if (settings.sfxEnabled) {
      meowSound.currentTime = 0;
      meowSound.play();
    }
    showPetSpeech(petSpeeches.cat["treats"] || "MEOW MEOW!");
  } else if (state.isTurtleMode) {
    showPetSpeech("*blinks slowly*");
  } else {
    if (settings.sfxEnabled) {
      barkSound.currentTime = 0;
      barkSound.play();
    }
    showPetSpeech(petSpeeches.dog["treats"] || "WOOF WOOF!");
  }
  state.happiness += 5;
  dogImg.classList.add('happy');
  setTimeout(() => dogImg.classList.remove('happy'), 500);
  updateStats();
}
const petSpeeches = {
  dog: {
    treats: "WOOF! *bouncing excitedly* My favorite treats! I'll do ANY trick for these!",
    lettuce: "Aww... if you say it's good for me, I'll try it! *tail wags hopefully*",
    carrots: "Crunch crunch! Healthy AND fun to chase! You're so smart!",
    dandelions: "Ooh! Can we play in the flowers after I eat these? Please please?",
    corn: "*tail wagging frantically* Sweet crunchy goodness! You're the BEST!",
    blueberries: "They bounce like tiny balls! Chase time AND snack time!",
    pet: "I love you I love you I LOVE YOU! Best human ever!",
    play: "PLAYTIME IS THE BEST TIME! Let's go let's go let's GO!",
    walk: "WALKIES! *zooming in circles* Adventure time with my favorite person!",
    tired: "*yawns but tail still wagging* Just a quick rest, then more fun!",
    notHungry: "Can we play instead? Or cuddle? Or both? I just love being with you!",
    sleep: "Zzz... time for a nap! *yawns and stretches*",
    kiss: "Woof woof! Kisses are the best! *gives you a sloppy lick*"
  },
  cat: {
    treats: "*delicately nibbles* Mmm... these are almost worthy of my refined palate.",
    lettuce: "*scoffs* I don't eat peasant food. Bring me something more... sophisticated.",
    carrots: "Orange is not my color, darling. But I suppose I'll humor you.",
    dandelions: "Common wildflowers? *sigh* I deserve exotic orchids, you know.",
    corn: "Well... at least it's golden, like my royal heritage.",
    blueberries: "These would make lovely accessories... if they weren't for eating.",
    pet: "Yes, yes, admire my perfect fur. But do mind the crown, dahling.",
    play: "I shall demonstrate my graceful hunting skills... but elegantly, of course!",
    walk: "I shall allow you to escort me on my daily royal procession.",
    tired: "Beauty rest is essential for maintaining my regal appearance...",
    notHungry: "*flicks tail* A lady only dines at proper meal times, thank you.",
    sleep: "Time for a catnap, human. *curls up and purrs*",
    kiss: "Mrow... kisses are acceptable, human. *gives you a head butt*"
  },
  turtle: {
    treats: "*slowly chews* ...duuuude... these are like... totally radical...",
    lettuce: "Far out man... green stuff is my jam...",
    carrots: "Whoa... orange crunchy things... groovy...",
    dandelions: "Yellow flowers? ...that's heavy, man...",
    corn: "*slowly* This is like... cosmic food, dude...",
    blueberries: "Blue food... reminds me of the ocean... *spaces out*",
    pet: "Cowabunga dude... that's the spot...",
    play: "Slow and steady... wins the race... or whatever...",
    walk: "A journey of a thousand miles... begins with one step... *moves 1 inch*",
    tired: "*already sleeping* ...zzz... what was the question...?",
    notHungry: "Nah bro... still digesting from last week...",
    sleep: "I was already sleeping... but okay dude...",
    kiss: "Whoa... that's like... totally tubular man..."
  }
};
function showPetSpeech(text) {
  const speeches = state.isCatMode ? petSpeeches.cat : state.isTurtleMode ? petSpeeches.turtle : petSpeeches.dog;
  speechBubble.textContent = text || speeches["treats"];
  speechBubble.style.display = 'block';
  setTimeout(() => {
    speechBubble.style.display = 'none';
  }, state.isTurtleMode ? 6000 : 3000);
}
const foodEffects = {
  treats: {
    hunger: -25,
    happiness: 15,
    energy: 10,
    health: 5,
    message: "Yummy treats! The dog's tail wags with joy!"
  },
  lettuce: {
    hunger: -5,
    happiness: 2,
    energy: 2,
    health: 2,
    message: "The dog reluctantly nibbles the lettuce..."
  },
  carrots: {
    hunger: -15,
    happiness: 8,
    energy: 15,
    health: 8,
    message: "Crunch crunch! Healthy AND fun to chase! You're so smart!"
  },
  dandelions: {
    hunger: -8,
    happiness: 5,
    energy: 5,
    health: 3,
    message: "The dog curiously munches the dandelions"
  },
  corn: {
    hunger: -20,
    happiness: 10,
    energy: 12,
    health: 5,
    message: "The dog loves the sweet corn!"
  },
  blueberries: {
    hunger: -10,
    happiness: 12,
    energy: 8,
    health: 6,
    message: "Berries make for a fun, bouncy snack!"
  },
  vitamins: {
    hunger: -5,
    happiness: -2,
    energy: 15,
    health: 25,
    message: "The vitamins will help keep your pet healthy!"
  }
};
function updateStats() {
  const stats = ['happiness', 'energy', 'hunger', 'health', 'sleepiness', 'goodMood', 'badMood'];
  stats.forEach(stat => {
    const element = document.getElementById(stat);
    element.parentElement.classList.add('stat-change');
    element.textContent = state[stat];
    setTimeout(() => element.parentElement.classList.remove('stat-change'), 500);
  });
  if (state.health <= 0) {
    gameOver();
  }
}
function showMessage(text) {
  const message = document.getElementById('message');
  message.textContent = text;
  message.style.display = 'block';
  setTimeout(() => message.style.display = 'none', 2000);
}
function feedDog(foodType) {
  playClick();
  if (state.hunger < 20) {
    showPetSpeech(state.isCatMode ? petSpeeches.cat.notHungry : petSpeeches.dog.notHungry);
    return;
  }
  const effect = foodEffects[foodType];
  state.hunger = Math.max(0, state.hunger + effect.hunger);
  state.happiness = Math.min(100, state.happiness + effect.happiness);
  state.energy = Math.min(100, state.energy + effect.energy);
  state.health = Math.min(100, state.health + effect.health);
  state.goodMood = Math.min(100, state.goodMood + 5);
  state.badMood = Math.max(0, state.badMood - 5);
  showPetSpeech(state.isCatMode ? petSpeeches.cat[foodType] : state.isTurtleMode ? petSpeeches.turtle[foodType] : petSpeeches.dog[foodType]);
  dogImg.classList.add('happy');
  setTimeout(() => dogImg.classList.remove('happy'), 500);
  updateStats();
}
function petPet() {
  playClick();
  state.happiness += 15;
  state.goodMood = Math.min(100, state.goodMood + 10);
  state.badMood = Math.max(0, state.badMood - 5);
  showPetSpeech(state.isCatMode ? petSpeeches.cat.pet : state.isTurtleMode ? petSpeeches.turtle.pet : petSpeeches.dog.pet);
  dogImg.classList.add('happy');
  setTimeout(() => dogImg.classList.remove('happy'), 500);
  updateStats();
}
function playWithPet() {
  playClick();
  if (state.energy < 20) {
    showPetSpeech(state.isCatMode ? petSpeeches.cat.tired : state.isTurtleMode ? petSpeeches.turtle.tired : petSpeeches.dog.tired);
    return;
  }
  state.happiness += 20;
  state.energy -= 30;
  state.hunger += 20;
  state.goodMood = Math.min(100, state.goodMood + 15);
  state.badMood = Math.max(0, state.badMood - 10);
  showPetSpeech(state.isCatMode ? petSpeeches.cat.play : state.isTurtleMode ? petSpeeches.turtle.play : petSpeeches.dog.play);
  dogImg.classList.add('happy');
  setTimeout(() => dogImg.classList.remove('happy'), 2000);
  updateStats();
}
function walkPet() {
  playClick();
  if (state.energy < 30) {
    showPetSpeech(state.isCatMode ? petSpeeches.cat.tired : state.isTurtleMode ? petSpeeches.turtle.tired : petSpeeches.dog.tired);
    return;
  }
  if (state.isTurtleMode) {
    state.isWalking = true;
    state.happiness += 5;
    state.energy -= 5;
    state.hunger += 5;
    showPetSpeech(petSpeeches.turtle.walk);
    const turtle = document.querySelector('.dog-img');
    turtle.style.transition = 'transform 5s linear';
    turtle.style.transform = 'translateX(20px)';
    setTimeout(() => {
      turtle.style.transform = 'translateX(0)';
      turtle.style.transition = 'transform 0.3s ease';
      state.isWalking = false;
    }, 5000);
  } else {
    state.isWalking = true;
    document.querySelector('.dog-container').classList.add('walking');
    state.happiness += 25;
    state.energy -= 20;
    state.hunger += 15;
    showPetSpeech(state.isCatMode ? petSpeeches.cat.walk : petSpeeches.dog.walk);
    setTimeout(() => {
      state.isWalking = false;
      document.querySelector('.dog-container').classList.remove('walking');
    }, 5000);
  }
  updateStats();
}
function switchPet() {
  if (settings.sfxEnabled) {
    switchSound.currentTime = 0;
    switchSound.play();
  }
  if (!state.isCatMode && !state.isTurtleMode) {
    state.isCatMode = true;
    state.isTurtleMode = false;
  } else if (state.isCatMode) {
    state.isCatMode = false;
    state.isTurtleMode = true;
  } else {
    state.isCatMode = false;
    state.isTurtleMode = false;
  }
  const switchBtn = document.querySelector('.switch-pet-btn');
  const soundBtn = document.getElementById('soundButton');
  const petImg = document.querySelector('.dog-img');
  const treatsBtn = document.getElementById('treatsButton');
  if (state.isCatMode) {
    petImg.src = "Picsart_25-01-15_19-39-36-468.png";
    switchBtn.textContent = "Switch to Turtle";
    soundBtn.textContent = "Meow!";
    treatsBtn.textContent = "Cat Treats";
    document.body.classList.add('cat-mode');
    document.body.classList.remove('turtle-mode');
  } else if (state.isTurtleMode) {
    petImg.src = "Picsart_25-01-17_08-23-11-074.png";
    switchBtn.textContent = "Switch to Dog";
    soundBtn.textContent = "*slow blink*";
    treatsBtn.textContent = "Turtle Treats";
    document.body.classList.add('turtle-mode');
    document.body.classList.remove('cat-mode');
    const turtle = document.querySelector('.dog-img');
    turtle.style.animation = 'none';
    turtle.style.transform = 'none';
    turtle.style.transition = 'transform 0.3s ease';
  } else {
    petImg.src = "Picsart_25-01-02_19-26-37-140.png";
    switchBtn.textContent = "Switch to Cat";
    soundBtn.textContent = "Bark!";
    treatsBtn.textContent = "Dog Treats";
    document.body.classList.remove('cat-mode');
    document.body.classList.remove('turtle-mode');
  }
}
function startGame() {
  const menu = document.getElementById('mainMenu');
  menu.style.animation = 'menuFadeIn 0.5s ease-out reverse';
  setTimeout(() => {
    menu.style.display = 'none';
    document.getElementById('gameContent').style.display = 'block';
    if (settings.musicEnabled) {
      menuMusic.pause();
      menuMusic.currentTime = 0;
      backgroundMusic.currentTime = 0;
      backgroundMusic.play();
    }
    loadProgress();
    loadSettings();
  }, 500);
}
function showSettings() {
  document.getElementById('settingsPanel').style.display = 'block';
}
function hideSettings() {
  document.getElementById('settingsPanel').style.display = 'none';
}
function quitGame() {
  if (confirm('Are you sure you want to quit?')) {
    menuMusic.pause();
    backgroundMusic.pause();
    window.close();
    window.location.href = 'https://websim.ai';
  }
}
function backToMenu() {
  if (confirm('Return to main menu? Make sure to save your progress first!')) {
    state = {
      happiness: 50,
      energy: 100,
      hunger: 0,
      health: 100,
      sleepiness: 0,
      goodMood: 50,
      badMood: 0,
      isWalking: false,
      isCatMode: false,
      isTurtleMode: false
    };
    document.querySelector('.dog-img').src = "Picsart_25-01-02_19-26-37-140.png";
    document.querySelector('.switch-pet-btn').textContent = "Switch to Cat";
    document.getElementById('soundButton').textContent = "Bark!";
    document.getElementById('treatsButton').textContent = "Dog Treats";
    document.body.classList.remove('cat-mode');
    document.body.classList.remove('turtle-mode');
    if (settings.musicEnabled) {
      backgroundMusic.pause();
      backgroundMusic.currentTime = 0;
      menuMusic.currentTime = 0;
      menuMusic.play();
    }
    const menu = document.getElementById('mainMenu');
    menu.style.animation = 'menuFadeIn 0.5s ease-out';
    menu.style.display = 'flex';
    document.getElementById('gameContent').style.display = 'none';
    updateStats();
  }
}
function saveProgress() {
  playClick();
  const saveData = {
    state: state,
    isCatMode: state.isCatMode,
    health: state.health
  };
  localStorage.setItem('petGameSave', JSON.stringify(saveData));
  showMessage('Progress saved!');
}
function loadProgress() {
  const savedData = localStorage.getItem('petGameSave');
  if (savedData) {
    const data = JSON.parse(savedData);
    state = data.state;
    if (data.isCatMode) {
      const petImg = document.querySelector('.dog-img');
      const switchBtn = document.querySelector('.switch-pet-btn');
      const soundBtn = document.getElementById('soundButton');
      const treatsBtn = document.getElementById('treatsButton');
      petImg.src = "Picsart_25-01-15_19-39-36-468.png";
      switchBtn.textContent = "Switch to Turtle";
      soundBtn.textContent = "Meow!";
      treatsBtn.textContent = "Cat Treats";
      document.body.classList.add('cat-mode');
    } else if (data.isTurtleMode) {
      const petImg = document.querySelector('.dog-img');
      const switchBtn = document.querySelector('.switch-pet-btn');
      const soundBtn = document.getElementById('soundButton');
      const treatsBtn = document.getElementById('treatsButton');
      petImg.src = "Picsart_25-01-17_08-23-11-074.png";
      switchBtn.textContent = "Switch to Dog";
      soundBtn.textContent = "*slow blink*";
      treatsBtn.textContent = "Turtle Treats";
      document.body.classList.add('turtle-mode');
    }
    updateStats();
    showMessage('Progress loaded!');
    return true;
  }
  return false;
}
function gameOver() {
  if (settings.sfxEnabled) {
    gameOverSound.currentTime = 0;
    gameOverSound.play();
  }
  document.getElementById('gameOver').style.display = 'flex';
  if (settings.musicEnabled) {
    backgroundMusic.pause();
    backgroundMusic.currentTime = 0;
  }
}
function restartGame() {
  state = {
    happiness: 50,
    energy: 100,
    hunger: 0,
    health: 100,
    sleepiness: 0,
    goodMood: 50,
    badMood: 0,
    isWalking: false,
    isCatMode: false,
    isTurtleMode: false
  };
  document.getElementById('gameOver').style.display = 'none';
  if (settings.musicEnabled) {
    backgroundMusic.currentTime = 0;
    backgroundMusic.play();
  }
  updateStats();
}
function updateClock() {
  const clock = document.getElementById('clock');
  const now = new Date();
  let hours = now.getHours();
  const minutes = String(now.getMinutes()).padStart(2, '0');
  const seconds = String(now.getSeconds()).padStart(2, '0');
  const ampm = hours >= 12 ? 'PM' : 'AM';
  hours = hours % 12;
  hours = hours ? hours : 12;
  hours = String(hours).padStart(2, '0');
  clock.textContent = `${hours}:${minutes}:${seconds} ${ampm}`;
}
document.querySelector('.dog-img').addEventListener('touchstart', function (e) {
  e.preventDefault();
  petPet();
});
document.addEventListener('touchstart', handleTouchStart, {
  passive: false
});
document.body.style.overscrollBehavior = 'none';
setInterval(() => {
  state.hunger = Math.min(100, state.hunger + 2);
  state.sleepiness = Math.min(100, state.sleepiness + 1);
  if (state.hunger > 70) {
    state.happiness = Math.max(0, state.happiness - 5);
    state.health = Math.max(0, state.health - 3);
    if (Math.random() < 0.3) {
      if (state.isCatMode) {
        showPetSpeech("*dramatically flops* I'm simply WASTING away! Where is my gourmet dinner?");
      } else if (state.isTurtleMode) {
        showPetSpeech("*blinks slowly* I'm starving, dude...");
      } else {
        showPetSpeech("*gives big puppy eyes* I'm super duper hungry... but I still love you!");
      }
    }
  }
  if (state.sleepiness > 70) {
    state.energy = Math.max(0, state.energy - 5);
    state.health = Math.max(0, state.health - 2);
    if (Math.random() < 0.3) {
      if (state.isCatMode) {
        showPetSpeech("*yawns dramatically* I simply must get my beauty rest!");
      } else if (state.isTurtleMode) {
        showPetSpeech("*yawns* I'm getting sleepy...");
      } else {
        showPetSpeech("*yawns* I'm getting sleepy...");
      }
    }
  }
  if (state.happiness < 20) {
    state.health = Math.max(0, state.health - 2);
  }
  if (!state.isWalking && state.energy < 100) {
    state.energy = Math.min(100, state.energy + 5);
  }
  if (state.energy > 50 && state.happiness > 50 && state.hunger < 50) {
    state.health = Math.min(100, state.health + 1);
  }
  if (state.hunger > 70 || state.sleepiness > 70) {
    state.goodMood = Math.max(0, state.goodMood - 5);
    state.badMood = Math.min(100, state.badMood + 5);
  }
  if (state.happiness > 70 && state.energy > 70) {
    state.goodMood = Math.min(100, state.goodMood + 2);
    state.badMood = Math.max(0, state.badMood - 2);
  }
  state.happiness = Math.min(100, Math.max(0, state.happiness));
  state.energy = Math.min(100, Math.max(0, state.energy));
  state.hunger = Math.min(100, Math.max(0, state.hunger));
  state.health = Math.min(100, Math.max(0, state.health));
  state.sleepiness = Math.min(100, Math.max(0, state.sleepiness));
  state.goodMood = Math.min(100, Math.max(0, state.goodMood));
  state.badMood = Math.min(100, Math.max(0, state.badMood));
  updateStats();
}, 5000);
setInterval(updateClock, 1000);
updateClock();
updateStats();
function letSleep() {
  playClick();
  if (state.sleepiness < 20) {
    showPetSpeech("I'm not tired right now!");
    return;
  }
  showPetSpeech(state.isCatMode ? petSpeeches.cat.sleep : state.isTurtleMode ? petSpeeches.turtle.sleep : petSpeeches.dog.sleep);
  state.energy = Math.min(100, state.energy + 50);
  state.health = Math.min(100, state.health + 10);
  state.happiness += 10;
  state.sleepiness = Math.max(0, state.sleepiness - 50);
  state.goodMood = Math.min(100, state.goodMood + 10);
  state.badMood = Math.max(0, state.badMood - 10);
  if (state.isTurtleMode) {
    dogImg.style.transform = 'scale(0.9)';
    setTimeout(() => {
      dogImg.style.transform = 'none';
    }, 5000);
  } else {
    dogImg.style.transform = 'rotate(90deg)';
    setTimeout(() => {
      dogImg.style.transform = 'none';
    }, 5000);
  }
  updateStats();
}
function kissPet() {
  playClick();
  showPetSpeech(state.isCatMode ? petSpeeches.cat.kiss : state.isTurtleMode ? petSpeeches.turtle.kiss : petSpeeches.dog.kiss);
  state.happiness = Math.min(100, state.happiness + 25);
  state.health = Math.min(100, state.health + 5);
  state.goodMood = Math.min(100, state.goodMood + 15);
  state.badMood = Math.max(0, state.badMood - 10);
  dogImg.classList.add('happy');
  setTimeout(() => dogImg.classList.remove('happy'), 1000);
  updateStats();
}
function saveSettings() {
  localStorage.setItem('petGameSettings', JSON.stringify(settings));
}
function loadSettings() {
  const savedSettings = localStorage.getItem('petGameSettings');
  if (savedSettings) {
    const loadedSettings = JSON.parse(savedSettings);
    Object.assign(settings, loadedSettings);
    document.getElementById('volume').value = settings.musicVolume;
    document.getElementById('sfxVolume').value = settings.sfxVolume;
    document.getElementById('musicEnabled').checked = settings.musicEnabled;
    document.getElementById('sfxEnabled').checked = settings.sfxEnabled;
    document.getElementById('mobileSupport').checked = settings.mobileSupport;
    if (!settings.mobileSupport) {
      document.querySelector('.dog-img').removeEventListener('touchstart', petPet);
      document.removeEventListener('touchstart', handleTouchStart);
    }
  }
}</script>
</head>
</html>